{"ast":null,"code":"import _toConsumableArray from\"/Users/desilee/books/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/desilee/books/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/desilee/books/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/desilee/books/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/desilee/books/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import axios from\"axios\";import BookCreate from\"./components/BookCreate\";import BookList from\"./components/BookList\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),books=_useState2[0],setBooks=_useState2[1];var fetchBooks=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:3001/books\");case 2:response=_context.sent;setBooks(response.data);case 4:case\"end\":return _context.stop();}},_callee);}));return function fetchBooks(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchBooks();},[]);var editBookById=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id,newTitle){var response,updatedBooks;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.put(\"http://localhost:3001/books/\".concat(id),{title:newTitle});case 2:response=_context2.sent;updatedBooks=books.map(function(book){if(book.id===id){// if the book's id is = to the id that has been passed into our overall function that means this is the book object we want to update\nreturn _objectSpread(_objectSpread({},book),response.data);}return book;// if not, return the original book\n});setBooks(updatedBooks);case 5:case\"end\":return _context2.stop();}},_callee2);}));return function editBookById(_x,_x2){return _ref2.apply(this,arguments);};}();var deleteBookById=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id){var updatedBooks;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.delete(\"http://localhost:3001/books/\".concat(id));case 2:// takes the id of book that we want to delete and pass it down therough the props system to BookList component\n// then from BookList comp. we forward that function the every copy of BookShow\nupdatedBooks=books.filter(function(book){return book.id!==id;// if the book is not eq ual to the id\n});setBooks(updatedBooks);case 4:case\"end\":return _context3.stop();}},_callee3);}));return function deleteBookById(_x3){return _ref3.apply(this,arguments);};}();var createBook=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(title){var response,updatedBooks;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.post(\"http://localhost:3001/books\",{title:title});case 2:response=_context4.sent;// it's going to receive an argument of whatever title the user puts in.So when we call createBook we need to make sure we use as an argument the title the user input\nupdatedBooks=[].concat(_toConsumableArray(books),[response.data]);// could write title: tile, but JS allows us to just use title instead in the new object refering to the new title the user will add\nsetBooks(updatedBooks);case 5:case\"end\":return _context4.stop();}},_callee4);}));return function createBook(_x4){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Reading List\"}),/*#__PURE__*/_jsx(BookList,{onEdit:editBookById,books:books,onDelete:deleteBookById}),/*#__PURE__*/_jsx(BookCreate,{onCreate:createBook})]});}export default App;","map":{"version":3,"names":["useState","useEffect","axios","BookCreate","BookList","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","books","setBooks","fetchBooks","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","sent","data","stop","apply","arguments","editBookById","_ref2","_callee2","id","newTitle","updatedBooks","_callee2$","_context2","put","concat","title","map","book","_objectSpread","_x","_x2","deleteBookById","_ref3","_callee3","_callee3$","_context3","delete","filter","_x3","createBook","_ref4","_callee4","_callee4$","_context4","post","_toConsumableArray","_x4","className","children","onEdit","onDelete","onCreate"],"sources":["/Users/desilee/books/src/App.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport BookCreate from \"./components/BookCreate\";\nimport BookList from \"./components/BookList\";\n\nfunction App() {\n  const [books, setBooks] = useState([]);\n\n  const fetchBooks = async () => {\n    const response = await axios.get(\"http://localhost:3001/books\");\n\n    setBooks(response.data);\n  };\n\n  useEffect(() => {\n    fetchBooks();\n  }, []);\n\n  const editBookById = async (id, newTitle) => {\n    const response = await axios.put(`http://localhost:3001/books/${id}`, {\n      title: newTitle,\n    });\n\n    const updatedBooks = books.map((book) => {\n      if (book.id === id) {\n        // if the book's id is = to the id that has been passed into our overall function that means this is the book object we want to update\n        return { ...book, ...response.data };\n      }\n      return book; // if not, return the original book\n    });\n\n    setBooks(updatedBooks);\n  };\n\n  const deleteBookById = async (id) => {\n    await axios.delete(`http://localhost:3001/books/${id}`);\n    // takes the id of book that we want to delete and pass it down therough the props system to BookList component\n    // then from BookList comp. we forward that function the every copy of BookShow\n    const updatedBooks = books.filter((book) => {\n      return book.id !== id; // if the book is not eq ual to the id\n    });\n\n    setBooks(updatedBooks);\n  };\n\n  const createBook = async (title) => {\n    const response = await axios.post(\"http://localhost:3001/books\", {\n      title,\n    });\n\n    // it's going to receive an argument of whatever title the user puts in.So when we call createBook we need to make sure we use as an argument the title the user input\n    const updatedBooks = [...books, response.data]; // could write title: tile, but JS allows us to just use title instead in the new object refering to the new title the user will add\n    setBooks(updatedBooks);\n  };\n\n  return (\n    <div className=\"app\">\n      <h1>Reading List</h1>\n      <BookList onEdit={editBookById} books={books} onDelete={deleteBookById} />\n      <BookCreate onCreate={createBook} />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}